{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\react-native\\\\Doctro\\\\contacts\\\\Favorites.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport firebase from \"../Firebase\";\n\nvar Favorites = function (_Component) {\n  _inherits(Favorites, _Component);\n\n  var _super = _createSuper(Favorites);\n\n  function Favorites(props) {\n    var _this;\n\n    _classCallCheck(this, Favorites);\n\n    _this = _super.call(this, props);\n\n    _this.likeImage = function _callee() {\n      var uid, likeState;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              uid = firebase.auth().currentUser.uid;\n              firebase.database().ref(\"users/doctors/\" + _this.state.uid).child('favorit').child(uid).set(!_this.state.liked);\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(!_this.state.liked);\n\n            case 4:\n              likeState = _context.sent;\n\n              _this.setState({\n                liked: likeState\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      liked: false,\n      uid: null,\n      fav: false\n    };\n    return _this;\n  }\n\n  _createClass(Favorites, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.dataDoctors();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      var _this2 = this;\n\n      var uid = firebase.auth().currentUser.uid;\n      firebase.database().ref('users/doctors/' + this.state.uid).child('favorit').child(uid).on('value', function (snap) {\n        console.log(snap);\n\n        _this2.setState({\n          fav: snap\n        });\n      });\n    }\n  }, {\n    key: \"dataDoctors\",\n    value: function dataDoctors() {\n      var _this3 = this;\n\n      firebase.database().ref('users/doctors/').on('child_added', function (val) {\n        var users = val.val();\n        users.uid = val.key;\n\n        _this3.setState({\n          uid: users.uid\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          icon = _this$state.icon,\n          liked = _this$state.liked;\n      var colorValue = !liked ? '#ccd1d1' : '#fb7777';\n      var iconVAlue = icon ? '1' : '0';\n      return React.createElement(TouchableOpacity, {\n        style: styles.like,\n        onPress: this.likeImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"heart\",\n        size: 32,\n        style: {\n          color: colorValue,\n          textAlign: 'right',\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Favorites;\n}(Component);\n\nvar styles = StyleSheet.create({\n  like: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: 15,\n    flexDirection: 'row',\n    marginRight: 10\n  }\n});\nexport default Favorites;","map":{"version":3,"sources":["E:/react-native/Doctro/contacts/Favorites.js"],"names":["React","Component","FontAwesome","firebase","Favorites","props","likeImage","uid","auth","currentUser","database","ref","state","child","set","liked","likeState","setState","fav","dataDoctors","on","snap","console","log","val","users","key","icon","colorValue","iconVAlue","styles","like","color","textAlign","flex","StyleSheet","create","position","zIndex","marginTop","flexDirection","marginRight"],"mappings":"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","sourcesContent":["//import liraries\r\nimport React, { Component } from 'react';\r\nimport { StyleSheet, TouchableOpacity } from 'react-native';\r\nimport { FontAwesome } from \"@expo/vector-icons\";\r\n\r\nimport firebase from '../Firebase';\r\n\r\n\r\n// create a component\r\nclass Favorites extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      liked: false,\r\n      uid: null,\r\n      fav: false\r\n    };\r\n  };\r\n  \r\n  componentDidMount() {\r\n\r\n    this.dataDoctors()\r\n  };\r\n\r\n  \r\n  \r\n    componentWillReceiveProps() {\r\n      const uid = firebase.auth().currentUser.uid\r\n  \r\n      firebase.database().ref('users/doctors/' + this.state.uid).child('favorit').child(uid).on('value', snap => {\r\n          console.log(snap)\r\n          this.setState({\r\n            fav: snap\r\n          })\r\n      })\r\n    }\r\n    \r\n\r\n  likeImage = async () => {\r\n    const uid = firebase.auth().currentUser.uid\r\n\r\n    firebase.database().ref(`users/doctors/${this.state.uid}`)\r\n    .child('favorit').child(uid).set(!this.state.liked);\r\n    \r\n    const likeState = await !this.state.liked\r\n    this.setState({ liked: likeState })\r\n  };  \r\n\r\n\r\n\r\n  dataDoctors() {\r\n    firebase.database().ref('users/doctors/').on('child_added', (val) => {\r\n      let users = val.val();\r\n      users.uid = val.key;\r\n\r\n      this.setState({\r\n        uid: users.uid\r\n      })  \r\n    })  \r\n  }  \r\n\r\n\r\n  \r\n\r\n  render() {\r\n\r\n    const { icon, liked } = this.state\r\n    const colorValue = !liked ? '#ccd1d1' : '#fb7777'\r\n    const iconVAlue = icon ? '1' : '0'\r\n\r\n    // console.log(favorite.uid)\r\n    return (\r\n      <TouchableOpacity style={styles.like} onPress={this.likeImage}>\r\n        <FontAwesome name='heart' size={32} style={{ color: colorValue,  textAlign: 'right', flex: 1 }} />\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\n// define your styles\r\nconst styles = StyleSheet.create({\r\n  like: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: 15,\r\n    flexDirection: 'row',\r\n    marginRight: 10\r\n  }\r\n});\r\n\r\n//make this component available to the app\r\nexport default Favorites;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React from 'react'\r\n// import { View, TouchableOpacity, Text, StyleSheet } from 'react-native'\r\n// import { Ionicons } from '@expo/vector-icons';\r\n\r\n// export default class LikeButton extends React.Component {\r\n// \tstate = {\r\n// \t\tliked: false,\r\n// \t}\r\n// \tlikeImage = async () => {\r\n// \t\tconst likeState = await !this.state.liked\r\n// \t\tthis.setState({ liked: likeState })\r\n// \t}\r\n// \trender() {\r\n// \t\tconst { liked } = this.state\r\n// \t\tconst colorValue = liked ? '#fb7777' : '#fff'\r\n// \t\tconst likeValue = liked ? '1' : '0'\r\n// \t\treturn (\r\n// \t\t\t<View style={styles.container}>\r\n// \t\t\t\t<TouchableOpacity style={styles.like}\r\n// \t\t\t\t\tonPress={this.likeImage}\r\n// \t\t\t\t>\r\n// \t\t\t\t\t<Ionicons name=\"md-heart\" size={55} color={colorValue} />\r\n// \t\t\t\t</TouchableOpacity>\r\n// \t\t\t\t<Text style={styles.likeNumberStyle}>\r\n// \t\t\t\t\t{likeValue}\r\n// \t\t\t\t</Text>\r\n// \t\t\t</View>\r\n// \t\t);\r\n// \t}\r\n// }\r\n\r\n// const styles = StyleSheet.create({\r\n// \tcontainer: {\r\n// \t\tflex: 1,\r\n// \t\talignItems: 'center',\r\n// \t\tjustifyContent: 'center',\r\n// \t},\r\n// \tlikeNumberStyle: {\r\n// \t\tfontSize: 16,\r\n// \t\tfontWeight: 'bold'\r\n// \t}\r\n// })"]},"metadata":{},"sourceType":"module"}