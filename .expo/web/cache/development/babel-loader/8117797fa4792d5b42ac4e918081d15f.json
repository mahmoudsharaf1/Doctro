{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport firebase from \"../Firebase\";\nimport { ORGANIZE_ATTEMPING, ORGANIZE_SUCCESS, ORGANIZE_FAILED } from \"./type\";\nexport var saveMeeting = function saveMeeting(_ref) {\n  var meetingUser = _ref.meetingUser,\n      meetingDoctor = _ref.meetingDoctor,\n      id = _ref.id;\n  return function _callee(dispatch) {\n    var uid;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            dispatch({\n              type: ORGANIZE_ATTEMPING\n            });\n            _context.prev = 1;\n            uid = firebase.auth().currentUser.uid;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(firebase.database().ref('meeting').child(uid).push(meetingUser));\n\n          case 5:\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(firebase.database().ref('meeting').child(id).push(meetingDoctor));\n\n          case 7:\n            dispatch({\n              type: ORGANIZE_SUCCESS\n            });\n            _context.next = 14;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            dispatch({\n              type: ORGANIZE_FAILED\n            });\n            console.log(_context.t0);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 10]], Promise);\n  };\n};","map":{"version":3,"sources":["E:/react-native/Doctro/actions/organize_action.js"],"names":["firebase","ORGANIZE_ATTEMPING","ORGANIZE_SUCCESS","ORGANIZE_FAILED","saveMeeting","meetingUser","meetingDoctor","id","dispatch","type","uid","auth","currentUser","database","ref","child","push","console","log"],"mappings":";AAAA,OAAOA,QAAP;AAEA,SACIC,kBADJ,EAEIC,gBAFJ,EAGIC,eAHJ;AAMA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAsC;AAAA,MAApCC,WAAoC,QAApCA,WAAoC;AAAA,MAAvBC,aAAuB,QAAvBA,aAAuB;AAAA,MAARC,EAAQ,QAARA,EAAQ;AAG7D,SAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHA,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAER;AAAR,aAAD,CAAR;AAFG;AAKKS,YAAAA,GALL,GAKWV,QAAQ,CAACW,IAAT,GAAgBC,WAAhB,CAA4BF,GALvC;AAAA;AAAA,6CAMOV,QAAQ,CAACa,QAAT,GAAoBC,GAApB,CAAwB,SAAxB,EAAmCC,KAAnC,CAAyCL,GAAzC,EAA8CM,IAA9C,CAAmDX,WAAnD,CANP;;AAAA;AAAA;AAAA,6CAOOL,QAAQ,CAACa,QAAT,GAAoBC,GAApB,CAAwB,SAAxB,EAAmCC,KAAnC,CAAyCR,EAAzC,EAA6CS,IAA7C,CAAkDV,aAAlD,CAPP;;AAAA;AASCE,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEP;AAAR,aAAD,CAAR;AATD;AAAA;;AAAA;AAAA;AAAA;AAaCM,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEN;AAAR,aAAD,CAAR;AAEAc,YAAAA,OAAO,CAACC,GAAR;;AAfD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAkBH,CArBM","sourcesContent":["import firebase from '../Firebase';\r\n\r\nimport { \r\n    ORGANIZE_ATTEMPING, \r\n    ORGANIZE_SUCCESS, \r\n    ORGANIZE_FAILED\r\n} from './type';\r\n\r\nexport const saveMeeting = ({meetingUser, meetingDoctor, id}) => {\r\n    \r\n\r\n    return async(dispatch) => {\r\n\r\n        dispatch({ type: ORGANIZE_ATTEMPING });\r\n\r\n        try{\r\n            let uid = firebase.auth().currentUser.uid\r\n            await firebase.database().ref('meeting').child(uid).push(meetingUser);\r\n            await firebase.database().ref('meeting').child(id).push(meetingDoctor);\r\n\r\n            dispatch({ type: ORGANIZE_SUCCESS });\r\n\r\n        } catch(e) {\r\n\r\n            dispatch({ type: ORGANIZE_FAILED });\r\n\r\n            console.log(e)\r\n        }\r\n    };\r\n};\r\n\r\n// export const saveMeetingDoctor = ({meetingDoctor, id}) => {\r\n    \r\n\r\n//     return async(dispatch) => {\r\n\r\n//         dispatch({ type: ORGANIZE_ATTEMPING });\r\n\r\n//         try{\r\n//             let uid = firebase.auth().currentUser.uid\r\n//             await firebase.database().ref('meeting').child(id).push(meetingDoctor);\r\n\r\n//             dispatch({ type: ORGANIZE_SUCCESS });\r\n\r\n//         } catch(e) {\r\n\r\n//             dispatch({ type: ORGANIZE_FAILED });\r\n\r\n//             console.log(e)\r\n//         }\r\n//     };\r\n// };"]},"metadata":{},"sourceType":"module"}