{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\react-native\\\\Doctro\\\\contacts\\\\Favorites.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport firebase from \"../Firebase\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar Favorites = function (_Component) {\n  _inherits(Favorites, _Component);\n\n  var _super = _createSuper(Favorites);\n\n  function Favorites(props) {\n    var _this;\n\n    _classCallCheck(this, Favorites);\n\n    _this = _super.call(this, props);\n\n    _this.likeImage = function _callee() {\n      var uid, likeState;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              uid = firebase.auth().currentUser.uid;\n              firebase.database().ref(\"users/profiles/\" + _this.state.uid).child('favorit').child(uid).set(!_this.state.liked);\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(!_this.state.liked);\n\n            case 4:\n              likeState = _context.sent;\n\n              _this.setState({\n                liked: likeState\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      liked: false,\n      uid: null,\n      fav: false\n    };\n    return _this;\n  }\n\n  _createClass(Favorites, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.dataDoctors();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      var _this2 = this;\n\n      var uid = firebase.auth().currentUser.uid;\n      firebase.database().ref('users/profiles/' + this.state.uid).child('favorit').child(uid).on('value', function (snap) {\n        console.log(snap);\n\n        _this2.setState({\n          fav: snap\n        });\n      });\n    }\n  }, {\n    key: \"dataDoctors\",\n    value: function dataDoctors() {\n      var _this3 = this;\n\n      firebase.database().ref('users/profiles/').on('child_added', function (val) {\n        var users = val.val();\n        users.uid = val.key;\n\n        _this3.setState({\n          uid: users.uid\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          icon = _this$state.icon,\n          liked = _this$state.liked;\n      var colorValue = !liked ? '#ccd1d1' : '#fb7777';\n      var iconVAlue = icon ? '1' : '0';\n      return React.createElement(TouchableOpacity, {\n        style: styles.like,\n        onPress: this.likeImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"heart\",\n        size: 32,\n        style: {\n          color: colorValue,\n          textAlign: 'right',\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return Favorites;\n}(Component);\n\nvar styles = StyleSheet.create({\n  like: {\n    flex: 1,\n    position: 'absolute',\n    alignSelf: 'flex-end',\n    flexDirection: 'row',\n    zIndex: 1,\n    marginTop: 15,\n    marginRight: 10,\n    width: 35\n  }\n});\nexport default Favorites;","map":{"version":3,"sources":["E:/react-native/Doctro/contacts/Favorites.js"],"names":["React","Component","FontAwesome","firebase","Dimensions","get","width","height","Favorites","props","likeImage","uid","auth","currentUser","database","ref","state","child","set","liked","likeState","setState","fav","dataDoctors","on","snap","console","log","val","users","key","icon","colorValue","iconVAlue","styles","like","color","textAlign","flex","StyleSheet","create","position","alignSelf","flexDirection","zIndex","marginTop","marginRight"],"mappings":"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","sourcesContent":["//import liraries\r\nimport React, { Component } from 'react';\r\nimport { StyleSheet, TouchableOpacity, View, Dimensions } from 'react-native';\r\nimport { FontAwesome } from \"@expo/vector-icons\";\r\n\r\nimport firebase from '../Firebase';\r\n\r\n\r\nconst { width, height } = Dimensions.get('window')\r\n\r\n// create a component\r\nclass Favorites extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      liked: false,\r\n      uid: null,\r\n      fav: false\r\n    };\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n    this.dataDoctors()\r\n  };\r\n\r\n\r\n\r\n  componentWillReceiveProps() {\r\n    const uid = firebase.auth().currentUser.uid\r\n\r\n    firebase.database().ref('users/profiles/' + this.state.uid).child('favorit').child(uid).on('value', snap => {\r\n      console.log(snap)\r\n      this.setState({\r\n        fav: snap\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  likeImage = async () => {\r\n    const uid = firebase.auth().currentUser.uid\r\n\r\n    firebase.database().ref(`users/profiles/${this.state.uid}`)\r\n      .child('favorit').child(uid).set(!this.state.liked);\r\n\r\n    const likeState = await !this.state.liked\r\n    this.setState({ liked: likeState })\r\n  };\r\n\r\n\r\n\r\n  dataDoctors() {\r\n    firebase.database().ref('users/profiles/').on('child_added', (val) => {\r\n      let users = val.val();\r\n      users.uid = val.key;\r\n\r\n      this.setState({\r\n        uid: users.uid\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const { icon, liked } = this.state\r\n    const colorValue = !liked ? '#ccd1d1' : '#fb7777'\r\n    const iconVAlue = icon ? '1' : '0'\r\n\r\n\r\n    return (\r\n        <TouchableOpacity style={styles.like} onPress={this.likeImage}>\r\n          <FontAwesome name='heart' size={32} style={{ color: colorValue, textAlign: 'right', flex: 1 }} />\r\n        </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\n// define your styles\r\nconst styles = StyleSheet.create({\r\n  like: {\r\n    flex: 1,\r\n    position: 'absolute',\r\n    alignSelf: 'flex-end',\r\n    flexDirection: 'row',\r\n    zIndex: 1,\r\n    marginTop: 15,\r\n    marginRight: 10,\r\n    width: 35,\r\n  }\r\n});\r\n\r\n//make this component available to the app\r\nexport default Favorites;"]},"metadata":{},"sourceType":"module"}