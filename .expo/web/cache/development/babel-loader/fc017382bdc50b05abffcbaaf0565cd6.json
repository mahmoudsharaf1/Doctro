{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\react-native\\\\Doctro\\\\screen\\\\Consultations.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { connect } from 'react-redux';\nimport firebase from \"../Firebase\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width;\n\nvar Consultations = function (_Component) {\n  _inherits(Consultations, _Component);\n\n  var _super = _createSuper(Consultations);\n\n  function Consultations() {\n    var _this;\n\n    _classCallCheck(this, Consultations);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      users: [],\n      active: 'Chats',\n      xTabOne: 0,\n      xTabTwo: 0,\n      translateX: new Animated.Value(0),\n      translateXTabOne: new Animated.Value(0),\n      translateXTabTwo: new Animated.Value(width),\n      translateY: -1000\n    };\n\n    _this.handleSlide = function (type) {\n      var _this$state = _this.state,\n          active = _this$state.active,\n          xTabOne = _this$state.xTabOne,\n          xTabTwo = _this$state.xTabTwo,\n          translateX = _this$state.translateX,\n          translateXTabOne = _this$state.translateXTabOne,\n          translateXTabTwo = _this$state.translateXTabTwo;\n      Animated.spring(translateX, {\n        toValue: type,\n        duration: 100\n      }).start();\n\n      if (active === 0) {\n        Animated.parallel([Animated.spring(translateXTabOne, {\n          toValue: 0,\n          duration: 100\n        }).start(), Animated.spring(translateXTabTwo, {\n          toValue: width,\n          duration: 100\n        }).start()]);\n      } else {\n        Animated.parallel([Animated.spring(translateXTabOne, {\n          toValue: -width,\n          duration: 100\n        }).start(), Animated.spring(translateXTabTwo, {\n          toValue: 0,\n          duration: 100\n        }).start()]);\n      }\n    };\n\n    _this.renderRow = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.props.navigation.navigate('ChatScreen', {\n            item: item\n          });\n        },\n        style: {\n          flexDirection: 'row',\n          marginTop: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        source: item.photoURL ? {\n          uri: item.photoURL\n        } : require(\"../images/interface.png\"),\n        style: {\n          width: 80,\n          height: 80,\n          resizeMode: 'cover',\n          borderRadius: 50,\n          marginRight: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: {\n          fontSize: 18,\n          color: '#000'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, item.uid.displayName));\n    };\n\n    return _this;\n  }\n\n  _createClass(Consultations, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var profile = this.props.profile;\n      firebase.database().ref('messages').on('child_added', function (val) {\n        var person = val.val();\n        person.uid = val.key;\n\n        if (person.uid === profile.uid) {\n          profile.displayName = person.name;\n          profile.photoURL = person.image ? person.image : null;\n        } else {\n          _this2.setState(function (prevState) {\n            return {\n              users: [].concat(_toConsumableArray(prevState.users), [person])\n            };\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          xTabOne = _this$state2.xTabOne,\n          xTabTwo = _this$state2.xTabTwo,\n          translateX = _this$state2.translateX,\n          active = _this$state2.active,\n          translateXTabOne = _this$state2.translateXTabOne,\n          translateXTabTwo = _this$state2.translateXTabTwo,\n          translateY = _this$state2.translateY;\n      return React.createElement(View, {\n        style: styles.contanier,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: {\n          marginHorizontal: 13,\n          top: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-arrow-back\",\n        size: 30,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: styles.iconSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-search\",\n        size: 30,\n        style: styles.iconSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }))), React.createElement(Text, {\n        style: {\n          top: 23,\n          fontSize: 32,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      }, \"Consultations\"), React.createElement(View, {\n        style: styles.tabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, React.createElement(Animated.View, {\n        style: {\n          position: \"absolute\",\n          width: \"11%\",\n          height: \"100%\",\n          top: 0,\n          left: 0,\n          borderBottomWidth: 3,\n          borderBottomColor: '#1590f0',\n          transform: [{\n            translateX: translateX\n          }]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.tab,\n        onLayout: function onLayout(event) {\n          return _this3.setState({\n            xTabOne: event.nativeEvent.layout.x\n          });\n        },\n        onPress: function onPress() {\n          return _this3.setState({\n            active: 0\n          }, function () {\n            return _this3.handleSlide(xTabOne);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#000'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }\n      }, \"Chats\")), React.createElement(TouchableOpacity, {\n        style: styles.tab,\n        onLayout: function onLayout(event) {\n          return _this3.setState({\n            xTabTwo: event.nativeEvent.layout.x\n          });\n        },\n        onPress: function onPress() {\n          return _this3.setState({\n            active: 1\n          }, function () {\n            return _this3.handleSlide(xTabTwo);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#000'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }\n      }, \"Calls\"))), React.createElement(ScrollView, {\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }\n      }, React.createElement(Animated.View, {\n        style: {\n          transform: [{\n            translateX: translateXTabOne\n          }]\n        },\n        onLayout: function onLayout(event) {\n          return _this3.setState({\n            translateY: event.nativeEvent.layout.height\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      }, React.createElement(FlatList, {\n        data: this.state.users,\n        renderItem: this.renderRow,\n        keyExtractor: function keyExtractor(item) {\n          return item.uid;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }\n      })), React.createElement(Animated.View, {\n        style: {\n          transform: [{\n            translateX: translateXTabTwo\n          }, {\n            translateY: -translateY\n          }]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return Consultations;\n}(Component);\n\nvar styles = StyleSheet.create({\n  contanier: {\n    flex: 1,\n    backgroundColor: '#FFF'\n  },\n  iconSearch: {\n    flex: 1,\n    textAlign: 'right'\n  },\n  tabs: {\n    borderBottomColor: 'gray',\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    marginTop: 38,\n    flexDirection: 'row'\n  },\n  tab: {\n    marginRight: 25,\n    paddingBottom: 18\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.authProfile.loading,\n    error: state.authProfile.error,\n    signup: state.authProfile.signup,\n    profile: state.authProfile.profile,\n    login: state.authProfile.login\n  };\n};\n\nexport default connect(mapStateToProps)(Consultations);","map":{"version":3,"sources":["E:/react-native/Doctro/screen/Consultations.js"],"names":["React","Component","Ionicons","connect","firebase","Dimensions","get","width","Consultations","state","users","active","xTabOne","xTabTwo","translateX","Animated","Value","translateXTabOne","translateXTabTwo","translateY","handleSlide","type","spring","toValue","duration","start","parallel","renderRow","item","props","navigation","navigate","flexDirection","marginTop","photoURL","uri","require","height","resizeMode","borderRadius","marginRight","fontSize","color","uid","displayName","profile","database","ref","on","val","person","key","name","image","setState","prevState","styles","contanier","marginHorizontal","top","iconSearch","fontWeight","tabs","position","left","borderBottomWidth","borderBottomColor","transform","tab","event","nativeEvent","layout","x","StyleSheet","create","flex","backgroundColor","textAlign","hairlineWidth","paddingBottom","mapStateToProps","loading","authProfile","error","signup","login"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, { Component } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  Animated,\r\n  ScrollView,\r\n  Image,\r\n  Dimensions,\r\n  FlatList\r\n} from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { connect } from 'react-redux';\r\n\r\nimport firebase from '../Firebase';\r\n\r\nconst { width } = Dimensions.get(\"window\");\r\n\r\nclass Consultations extends Component {\r\n\r\n  state = {\r\n    users: [],\r\n    active: 'Chats',\r\n    xTabOne: 0,\r\n    xTabTwo: 0,\r\n    translateX: new Animated.Value(0),\r\n    translateXTabOne: new Animated.Value(0),\r\n    translateXTabTwo: new Animated.Value(width),\r\n    translateY: -1000\r\n  }\r\n\r\n  componentWillMount() {\r\n\r\n    const { profile } = this.props;\r\n\r\n    firebase.database().ref('messages').on('child_added', (val) => {\r\n        let person = val.val();\r\n        person.uid = val.key; \r\n        if(person.uid === profile.uid){\r\n            profile.displayName = person.name\r\n            profile.photoURL = person.image ? person.image : null\r\n        }else {\r\n            this.setState((prevState) => {\r\n                return {\r\n                    users: [...prevState.users, person]\r\n                }\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n  // componentWillMount() {\r\n\r\n  //   firebase.database().ref('users').on('child_added', (val) => {\r\n  //     let person = val.val();\r\n  //     person.uid = val.key;\r\n  //     console.log(person.uid)\r\n\r\n  //     this.setState((prevState) => {\r\n  //       return {\r\n  //         users: [...prevState.users, person]\r\n  //       }\r\n  //     })\r\n  //   })\r\n  // }\r\n\r\n\r\n  handleSlide = type => {\r\n    let {\r\n      active,\r\n      xTabOne,\r\n      xTabTwo,\r\n      translateX,\r\n      translateXTabOne,\r\n      translateXTabTwo\r\n    } = this.state;\r\n    Animated.spring(translateX, {\r\n      toValue: type,\r\n      duration: 100\r\n    }).start();\r\n    if (active === 0) {\r\n      Animated.parallel([\r\n        Animated.spring(translateXTabOne, {\r\n          toValue: 0,\r\n          duration: 100\r\n        }).start(),\r\n        Animated.spring(translateXTabTwo, {\r\n          toValue: width,\r\n          duration: 100\r\n        }).start()\r\n      ]);\r\n    } else {\r\n      Animated.parallel([\r\n        Animated.spring(translateXTabOne, {\r\n          toValue: -width,\r\n          duration: 100\r\n        }).start(),\r\n        Animated.spring(translateXTabTwo, {\r\n          toValue: 0,\r\n          duration: 100\r\n        }).start()\r\n      ]);\r\n    }\r\n  };\r\n\r\n\r\n  renderRow = ({ item }) => {\r\n    return (\r\n      <TouchableOpacity\r\n        onPress={() => this.props.navigation.navigate('ChatScreen', { item })}\r\n        style={{ flexDirection: 'row', marginTop: 15 }}>\r\n        <Image\r\n          source={item.photoURL ? { uri: item.photoURL } : require('../images/interface.png')}\r\n          style={{ width: 80, height: 80, resizeMode: 'cover', borderRadius: 50, marginRight: 10 }}\r\n        />\r\n        <Text style={{ fontSize: 18, color: '#000' }}>{item.uid.displayName}</Text>\r\n      </TouchableOpacity>\r\n    )\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      xTabOne,\r\n      xTabTwo,\r\n      translateX,\r\n      active,\r\n      translateXTabOne,\r\n      translateXTabTwo,\r\n      translateY\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.contanier}>\r\n        <View style={{ marginHorizontal: 13, top: 32 }}>\r\n          <View style={{ flexDirection: 'row' }}>\r\n            <Ionicons name='ios-arrow-back' size={30} />\r\n            <View style={styles.iconSearch}>\r\n              <Ionicons name='ios-search' size={30} style={styles.iconSearch} />\r\n            </View>\r\n          </View>\r\n          <Text style={{ top: 23, fontSize: 32, fontWeight: 'bold' }}>Consultations</Text>\r\n\r\n          <View style={styles.tabs}>\r\n            <Animated.View\r\n              style={{\r\n                position: \"absolute\",\r\n                width: \"11%\",\r\n                height: \"100%\",\r\n                top: 0,\r\n                left: 0,\r\n                borderBottomWidth: 3,\r\n                borderBottomColor: '#1590f0',\r\n                transform: [{ translateX }],\r\n\r\n              }}\r\n            />\r\n\r\n            <TouchableOpacity style={styles.tab}\r\n              onLayout={event => this.setState({ xTabOne: event.nativeEvent.layout.x })}\r\n              onPress={() => this.setState({ active: 0 }, () => this.handleSlide(xTabOne))}\r\n            >\r\n\r\n              <Text style={{ color: '#000' }}>Chats</Text>\r\n            </TouchableOpacity>\r\n\r\n            <TouchableOpacity style={styles.tab}\r\n              onLayout={event => this.setState({ xTabTwo: event.nativeEvent.layout.x })}\r\n              onPress={() => this.setState({ active: 1 }, () => this.handleSlide(xTabTwo))}\r\n            >\r\n              <Text style={{ color: '#000' }}>Calls</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <ScrollView style={{ marginTop: 20 }}>\r\n            <Animated.View\r\n              style={{ transform: [{ translateX: translateXTabOne }] }}\r\n              onLayout={event => this.setState({ translateY: event.nativeEvent.layout.height })}\r\n            >\r\n              <FlatList\r\n                data={this.state.users}\r\n                renderItem={this.renderRow}\r\n                keyExtractor={(item) => item.uid}\r\n              />\r\n            </Animated.View>\r\n\r\n            <Animated.View style={{ transform: [{ translateX: translateXTabTwo }, { translateY: -translateY }] }}>\r\n\r\n            </Animated.View>\r\n          </ScrollView>\r\n        </View>\r\n\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  contanier: {\r\n    flex: 1,\r\n    backgroundColor: '#FFF'\r\n  },\r\n  iconSearch: {\r\n    flex: 1,\r\n    textAlign: 'right'\r\n  },\r\n  tabs: {\r\n    borderBottomColor: 'gray',\r\n    borderBottomWidth: StyleSheet.hairlineWidth,\r\n    marginTop: 38,\r\n    flexDirection: 'row',\r\n    \r\n  },\r\n  tab: {\r\n    marginRight: 25,\r\n    paddingBottom: 18\r\n  },\r\n\r\n})\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n\r\n    loading: state.authProfile.loading,\r\n    error: state.authProfile.error,\r\n    signup: state.authProfile.signup,\r\n    profile: state.authProfile.profile,\r\n    login: state.authProfile.login,\r\n\r\n  }\r\n};\r\n\r\n  export default connect (mapStateToProps)(Consultations);"]},"metadata":{},"sourceType":"module"}